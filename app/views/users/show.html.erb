<div class="w3-container w3-padding-32">
  <div class="w3-card-4 w3-round-large" style="max-width:700px; margin:auto;">

    <header class="w3-container w3-center w3-black w3-padding-large w3-round-top-large">
      <%# If user has an avatar, you could display it here %>
      <%# Example: <%= image_tag @user.avatar_url, class: "w3-circle w3-margin-bottom", style: "width:100px;" if @user.avatar_url.present? %>
      <h1 class="w3-xxlarge"><%= @user.name %></h1>
      <p class="w3-medium w3-text-light-grey"><%= @user.role %></p> <%# Moved role to header as a subtitle %>
    </header>

    <div class="w3-container w3-padding-24"> <%# Increased padding slightly %>
      <%# Define attributes to display in an array of hashes for easier iteration %>
      <% attributes = [
           { label: "Email", value: @user.email },
           { label: "Phone", value: (@user.phone.present? ? link_to(@user.phone, "tel:#{@user.phone}") : nil) },
           { label: "Status", value: @user.status },
           { label: "Member Since", value: @user.created_at.strftime("%B %d, %Y") }
         ] %>

      <% attributes.each_with_index do |attr, index| %>
        <% if attr[:value].present? %>
          <div class="w3-row w3-padding-small profile-attribute-row">
            <div class="w3-col m4 l3"> <%# Medium 1/3, Large 1/4 for label %>
              <strong class="w3-text-grey"><%= attr[:label] %>:</strong>
            </div>
            <div class="w3-col m8 l9"> <%# Medium 2/3, Large 3/4 for value %>
              <%= attr[:value] %>
            </div>
          </div>
          <%# Add hr only if it's not the last visible attribute AND there are more attributes to show on mobile %>
          <% if index < attributes.select { |a| a[:value].present? }.size - 1 %>
            <hr class="profile-hr-mobile">
          <% end %>
        <% end %>
      <% end %>
    </div>

    <footer class="w3-container w3-center w3-light-grey w3-padding-16 w3-round-bottom-large">
      <%# Assuming edit_button(@user) generates a link. We style it as a W3 button. %>
      <%# If edit_button already creates a <button> or <a> with classes, this might not be necessary, %>
      <%# or the helper itself might need to be adjusted. %>
      <%= link_to "Edit Profile", edit_user_path(@user), class: "w3-button w3-black w3-round-large w3-hover-dark-grey" %>
    </footer>

  </div>
</div>

<%#
  Notes on changes:
  - Card: `w3-round-large` for softer corners. `max-width` slightly adjusted, `margin:auto` for centering.
  - Header:
    - Also `w3-round-top-large`.
    - Text explicitly centered.
    - User's `role` moved to the header as a subtitle for better hierarchy, styled with `w3-text-light-grey`.
    - Placeholder for a user avatar image if you have one.
    - Increased padding and heading size (`w3-xxlarge`).
  - Details Section (`w3-container w3-padding-24`):
    - Switched from `w3-row`/`w3-col` to `w3-row` with `w3-col`.
      - `w3-col` provides better vertical alignment for key-value pairs.
      - `m4`/`l3` for labels (1/3 on medium, 1/4 on large screens).
      - `m8`/`l9` for values (2/3 on medium, 3/4 on large screens).
    - Labels are `w3-text-grey` for a softer look on a potentially light background within the card.
  - Footer:
    - Also `w3-round-bottom-large` and `w3-center`.
    - Explicitly styled the edit link as a `w3-button w3-black w3-round-large w3-hover-dark-grey`.
      This assumes `edit_user_path(@user)` is the correct path helper.
      Removed the generic `edit_button(@user)` helper for more direct styling control here,
      unless you confirm the helper can output W3.CSS classes or a fully styled button.
  - Themeing:
    - Header uses `w3-black` (as you mentioned you use this theme).
    - Footer uses `w3-light-grey`. Adjust if needed.
    - Text colors (`w3-text-light-grey`, `w3-text-grey`) chosen for contrast with assumed backgrounds.
  - Revamped attributes section:
    - Iteration over an `attributes` array: This makes it easy to manage which fields to show
      and only renders a row if the `value` is present.
    - Conditional Rendering: `if attr[:value].present?` ensures that if a phone number (or any other field)
      is blank, its entire row (label and value) is skipped, avoiding the orphaned label issue.
    - Custom CSS for Mobile (`<style>` block):
      - The `<style>` block is added directly to the ERB for demonstration. Ideally, this CSS would go into
        your main `application.css` or a relevant stylesheet.
      - It makes label and value full-width on small screens.
      - It makes the label a block element above its value on small screens for clarity.
      - It adds a horizontal rule (`<hr>`) between attribute pairs ONLY on small screens for better separation when stacked.
    - The `link_to` for phone is now conditionally generated within the array definition.
%>
