<div class="w3-container w3-padding-32">
  <div class="w3-card-4 w3-round-large" style="max-width:700px; margin:auto;">

    <header class="w3-container w3-center w3-black w3-padding-large w3-round-top-large">
      <%# If user has an avatar, you could display it here %>
      <%# Example: <%= image_tag @user.avatar_url, class: "w3-circle w3-margin-bottom", style: "width:100px;" if @user.avatar_url.present? %>
      <h1 class="w3-xxlarge"><%= @user.name %></h1>
      <p class="w3-medium w3-text-light-grey"><%= @user.role %></p> <%# Moved role to header as a subtitle %>
    </header>

    <div class="w3-container w3-padding-24"> <%# Increased padding slightly %>
      <%# Define attributes to display in an array of hashes for easier iteration %>
      <% attributes = [
           { label: "Email", value: @user.email },
           { label: "Phone", value: (@user.phone.present? ? link_to(@user.phone, "tel:#{@user.phone}") : nil) },
           { label: "Status", value: @user.status },
           { label: "Member Since", value: @user.created_at.strftime("%B %d, %Y") },
         ] %>

      <% attributes.each_with_index do |attr, index| %>
        <div class="w3-row w3-padding-small profile-attribute-row">
          <div class="w3-col m4 l3"> <%# Medium 1/3, Large 1/4 for label %>
            <strong class="w3-text-grey"><%= attr[:label] %>:</strong>
          </div>
          <div class="w3-col m8 l9"> <%# Medium 2/3, Large 3/4 for value %>
            <%= attr[:value] %>
          </div>
        </div>
        <%# Add hr only if it's not the last visible attribute AND there are more attributes to show on mobile %>
        <% if index < attributes.select { |a| a[:value].present? }.size - 1 %>
          <hr class="profile-hr-mobile">
        <% end %>
      <% end %>
    </div>

    <footer class="w3-container w3-center w3-light-grey w3-padding-16 w3-round-bottom-large">
      <%# Assuming edit_button(@user) generates a link. We style it as a W3 button. %>
      <%# If edit_button already creates a <button> or <a> with classes, this might not be necessary, %>
      <%# or the helper itself might need to be adjusted. %>
      <%= link_to "Edit Profile", edit_user_path(@user), class: "w3-button w3-black w3-round-large w3-hover-dark-grey" %>
    </footer>

  </div>
</div>
